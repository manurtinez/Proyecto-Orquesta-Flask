<div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">Nuevo Estudiante</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body">
        <form id="formAltaEstudiante">
            <div class="row">
                <div class="col">
                    <label for="nombre">Nombre:</label>
                    <input class="form-control form-control-sm" id="nombre" name="nombre" type="text" required>
                </div>
                <div class="col">
                    <label for="apellido">Apellido:</label>
                    <input class="form-control form-control-sm" id="apellido" name="apellido" type="text" required>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="fechaN">Fecha Nacimiento:</label>
                    <input class="form-control form-control-sm" id="fechaN" name="fechaN" type="date" required>
                </div>
                <div class="col">
                    <label for="lugarN">Lugar Nacimiento:</label>
                    <input class="form-control form-control-sm" id="lugarN" name="lugarN" type="text" required>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="localidad">Localidad:</label>
                    <select class="form-control form-control-sm" id="localidad" name="localidad" required>
                        <option hidden disabled selected value> -- selecciona un tipo -- </option>
                        {% for l in localidades %}
                        <option value="{{l.id}}">{{l.nombre}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="domicilio">Domicilio:</label>
                    <input class="form-control form-control-sm" id="domicilio" name="domicilio" type="text" required>
                </div>
                <div class="col">
                    <label for="barrio">Barrio:</label>
                    <select class="form-control form-control-sm" id="barrio" name="barrio" required>
                        {% for b in barrios %}
                        <option value="{{b.id}}">{{b.nombre}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="genero">Genero:</label>
                    <select class="form-control form-control-sm" id="genero" name="genero" required>
                        {% for g in generos %}
                        <option value="{{g.id}}">{{g.nombre}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="tipoD">Tipo de Documento:</label>
                    <select class="form-control form-control-sm" id="tipoD" name="tipoD" required>
                        <option hidden disabled selected value> -- selecciona un tipo -- </option>
                        {% for t in dnis %}
                        <option value="{{t['id']}}">{{t['nombre']}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="numero">Numero de documento:</label>
                    <input class="form-control form-control-sm" id="numero" name="numero" type="number" min="1000000"
                        max="70000000" required>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <label for="telefono">Telefono:</label>
                    <input class="form-control form-control-sm" id="telefono" name="telefono" type="text" required>
                </div>
            </div>

            <div class="row" style="padding-bottom: 20px;">
                <div class="col">
                    <label for="responsable">Responsable a Cargo:</label>
                    <button class="btn btn-primary btn-sm" onclick="mostrarFormResponsable()">+Agregar</button>
                    <select class="form-control form-control-sm" id="responsable" name="responsable" required>
                        <option hidden selected value="0"> -- selecciona un responsable -- </option>
                        {% for r in responsables %}
                        <option value="{{r.id}}">{{r.apellido}}, {{r.nombre}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="escuela">Escuela:</label>
                    <select class="form-control form-control-sm" id="escuela" name="escuela" required>
                        {% for e in escuelas %}
                        <option value="{{e.id}}">{{e.nombre}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col">
                    <label for="nivel">Nivel:</label>
                    <select class="form-control form-control-sm" id="nivel" name="nivel" required>
                        {% for n in niveles %}
                        <option value="{{n.id}}">{{n.nombre}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div>
                <input class="btn btn-info" type="submit" name="submit" value="Aceptar">
            </div>
            <div id="formResponsable" style="height: 200px; display: none;">
                <div class="row">
                    <div class="col">
                        <label for="apellidoR">Apellido Responsable:</label>
                        <input type="text" class="form-control form-control-sm" name="apellidoR" id="apellidoR">
                    </div>
                    <div class="col">
                        <label for="nombreR">Nombre Responsable:</label>
                        <input type="text" class="form-control form-control-sm" name="nombreR" id="nombreR">
                    </div>
                    <div class="col">
                        <label for="fechaR">Fecha Nacimiento Responsable:</label>
                        <input class="form-control form-control-sm" id="fechaR" name="fechaR" type="date">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="localidadR">Localidad Responsable:</label>
                        <select class="form-control form-control-sm" id="localidadR" name="localidadR">
                            <option hidden disabled selected value> -- selecciona un tipo -- </option>
                            {% for l in localidades %}
                            <option value="{{l.id}}">{{l.nombre}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col">
                        <label for="domicilioR">Domicilio Responsable:</label>
                        <input class="form-control form-control-sm" id="domicilioR" name="domicilioR" type="text">
                    </div>
                    <div class="col">
                        <label for="telefonoR">Telefono Responsable:</label>
                        <input class="form-control form-control-sm" id="telefonoR" name="telefonoR" type="text">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="tipoDR">Tipo Documento Responsable:</label>
                        <select class="form-control form-control-sm" id="tipoDR" name="tipoDR">
                            <option hidden disabled selected value> -- selecciona un tipo -- </option>
                            {% for t in dnis %}
                            <option value="{{t['id']}}">{{t['nombre']}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col">
                        <label for="numeroR">Documento de Responsable:</label>
                        <input class="form-control form-control-sm" id="numeroR" name="numeroR" type="number">
                    </div>
                    <div class="col">
                        <label for="generoR">Genero Responsable:</label>
                        <select class="form-control form-control-sm" id="generoR" name="generoR">
                            {% for g in generos %}
                            <option value="{{g.id}}">{{g.nombre}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <input type="hidden" id="nuevoResponsable" name="nuevoResponsable" value="0">
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
    </div>
</div>
<script>
    function mostrarFormResponsable() {
        event.preventDefault()
        console.log('hola')
        $('#formResponsable').toggle()
        if ($('#nuevoResponsable').val() == 0) {
            $('#nuevoResponsable').val(1);
            $('#formResponsable :input').attr('required', true);
            $('#responsable').attr('disabled', true);
        }
        else {
            $('#nuevoResponsable').val(0);
            $('#formResponsable :input').attr('required', false);
            $('#responsable').attr('disabled', false);
        }
    }
</script>